{"remainingRequest":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/thread-loader/dist/cjs.js!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js??ref--14-3!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/views/Objects.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/src/views/Objects.vue","mtime":1605398126351},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZXJmYWxrL3dzX2ZpbGVkZ3IvZmlsZWRnci1zdHJlYW1zLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2VyZmFsay93c19maWxlZGdyL2ZpbGVkZ3Itc3RyZWFtcy1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnOwppbXBvcnQgRGV0YWlscyBmcm9tICdAL2NvbXBvbmVudHMvRGV0YWlscy52dWUnOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgQWRkT2JqZWN0TW9kYWxGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9BZGRPYmplY3RNb2RhbEZvcm0udnVlJzsKCnZhciBUaGluZ3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoVGhpbmdzLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUaGluZ3MpOwoKICBmdW5jdGlvbiBUaGluZ3MoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRoaW5ncyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnJlcmVuZGVyS2V5ID0gMDsKICAgIF90aGlzLnNob3cgPSBmYWxzZTsKICAgIF90aGlzLmlzTW9kYWxBY3RpdmUgPSBmYWxzZTsKICAgIF90aGlzLnVvaSA9ICcnOwogICAgX3RoaXMuZGlzcGxheU5hbWUgPSAnJzsKICAgIF90aGlzLmRlc2NyaXB0aW9uID0gJyc7CiAgICBfdGhpcy5zdHJlZXROYW1lID0gJyc7CiAgICBfdGhpcy5jaXR5ID0gJyc7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVGhpbmdzLCBbewogICAga2V5OiAiZ2V0T2JqZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0T2JqZWN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVvaSkgewogICAgICAgIHZhciBhY2Nlc3NUb2tlbiwgcmVzdWx0LCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRoLmdldFRva2VuU2lsZW50bHkoe30pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChlbmNvZGVVUkkoJy9hcGkvb2JqZWN0L2dldCcpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgYWNjZXNzVG9rZW4KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIHVvaTogdW9pCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLm9iamVjdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsgLy8gZm9yY2UgdXBkYXRlIHRoZSBtYXAKCiAgICAgICAgICAgICAgICB0aGlzLnJlcmVuZGVyS2V5ICs9IDE7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0T2JqZWN0KF94KSB7CiAgICAgICAgcmV0dXJuIF9nZXRPYmplY3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldE9iamVjdDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFJlc291cmNlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFJlc291cmNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodW9pKSB7CiAgICAgICAgdmFyIGFjY2Vzc1Rva2VuLCByZXN1bHQsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kYXV0aC5nZXRUb2tlblNpbGVudGx5KHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChlbmNvZGVVUkkoJy9hcGkvcmVzb3VyY2UvbGlzdCcpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgYWNjZXNzVG9rZW4KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIHVvaTogdW9pCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Lmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlc291cmNlcyA9IHJlc3BvbnNlOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0UmVzb3VyY2VzKF94MikgewogICAgICAgIHJldHVybiBfZ2V0UmVzb3VyY2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRSZXNvdXJjZXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJvcGVuTW9kYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Nb2RhbCgpIHsKICAgICAgdGhpcy4kYnVlZnkubW9kYWwub3Blbih7CiAgICAgICAgcGFyZW50OiB0aGlzLAogICAgICAgIGNvbXBvbmVudDogQWRkT2JqZWN0TW9kYWxGb3JtLAogICAgICAgIGhhc01vZGFsQ2FyZDogdHJ1ZSwKICAgICAgICBjdXN0b21DbGFzczogJ2N1c3RvbS1jbGFzcyBjdXN0b20tY2xhc3MtMicsCiAgICAgICAgdHJhcEZvY3VzOiB0cnVlCiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRoaW5nczsKfShWdWUpOwoKVGhpbmdzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBEZXRhaWxzOiBEZXRhaWxzCiAgfQp9KV0sIFRoaW5ncyk7CmV4cG9ydCBkZWZhdWx0IFRoaW5nczs="},{"version":3,"sources":["/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/views/Objects.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;AA4DA,OAAO,0BAAP;AACA,OAAO,OAAP,MAAoB,0BAApB;AACA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AAGA,OAAO,kBAAP,MAA+B,qCAA/B;;AAOA,IAAqB,MAArB;AAAA;;AAAA;;AAAA,oBAAA;AAAA;;AAAA;;;AACS,UAAA,WAAA,GAAc,CAAd;AACA,UAAA,IAAA,GAAO,KAAP;AACA,UAAA,aAAA,GAAgB,KAAhB;AACA,UAAA,GAAA,GAAM,EAAN;AACA,UAAA,WAAA,GAAc,EAAd;AACA,UAAA,WAAA,GAAc,EAAd;AAEA,UAAA,UAAA,GAAa,EAAb;AACA,UAAA,IAAA,GAAO,EAAP;AATT;AAoDC;;AApDD;AAAA;AAAA;AAAA,gGAWmB,GAXnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAY8B,KAAK,KAAL,CAAW,gBAAX,CAA4B,EAA5B,CAZ9B;;AAAA;AAYU,gBAAA,WAZV;AAAA;AAAA,uBAayB,KAAK,CAAC,SAAS,CAAC,iBAAD,CAAV,EAA+B;AACvD,kBAAA,MAAM,EAAE,MAD+C;AAEvD,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,EAAE,YAAY;AADpB,mBAF8C;AAKvD,kBAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe;AAAE,oBAAA,GAAG,EAAE;AAAP,mBAAf;AALiD,iBAA/B,CAb9B;;AAAA;AAaU,gBAAA,MAbV;AAAA;AAAA,uBAoBwC,MAAM,CAAC,IAAP,EApBxC;;AAAA;AAoBU,gBAAA,QApBV;AAqBI,qBAAK,MAAL,CAAY,KAAZ,CAAkB,MAAlB,GAA2B,QAA3B;AAEA,qBAAK,IAAL,GAAY,IAAZ,CAvBJ,CAwBI;;AACA,qBAAK,WAAL,IAAoB,CAApB;;AAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oGA4BsB,GA5BtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA6B8B,KAAK,KAAL,CAAW,gBAAX,CAA4B,EAA5B,CA7B9B;;AAAA;AA6BU,gBAAA,WA7BV;AAAA;AAAA,uBA8ByB,KAAK,CAAC,SAAS,CAAC,oBAAD,CAAV,EAAkC;AAC1D,kBAAA,MAAM,EAAE,MADkD;AAE1D,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,EAAE,YAAY;AADpB,mBAFiD;AAK1D,kBAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe;AAAE,oBAAA,GAAG,EAAE;AAAP,mBAAf;AALoD,iBAAlC,CA9B9B;;AAAA;AA8BU,gBAAA,MA9BV;AAAA;AAAA,uBAsC4C,MAAM,CAAC,IAAP,EAtC5C;;AAAA;AAsCU,gBAAA,QAtCV;AAwCI,qBAAK,MAAL,CAAY,KAAZ,CAAkB,SAAlB,GAA8B,QAA9B;;AAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,gCA2CW;AACP,WAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB;AACrB,QAAA,MAAM,EAAE,IADa;AAErB,QAAA,SAAS,EAAE,kBAFU;AAGrB,QAAA,YAAY,EAAE,IAHO;AAIrB,QAAA,WAAW,EAAE,6BAJQ;AAKrB,QAAA,SAAS,EAAE;AALU,OAAvB;AAOD;AAnDH;;AAAA;AAAA,EAAoC,GAApC,CAAA;;AAAqB,MAAM,GAAA,UAAA,CAAA,CAL1B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAP;AADU;AADH,CAAD,CAKiB,CAAA,EAAN,MAAM,CAAN;eAAA,M","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'leaflet/dist/leaflet.css'\nimport Details from '@/components/Details.vue'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { IResourceType } from '@/types/ResourceType'\nimport { IObjectType } from '@/types/ObjectType'\nimport AddObjectModalForm from '@/components/AddObjectModalForm.vue'\n\n@Component({\n  components: {\n    Details\n  }\n})\nexport default class Things extends Vue {\n  public rerenderKey = 0\n  public show = false\n  public isModalActive = false\n  public uoi = ''\n  public displayName = ''\n  public description = ''\n\n  public streetName = ''\n  public city = ''\n\n  async getObject (uoi: string) {\n    const accessToken = await this.$auth.getTokenSilently({})\n    const result = await fetch(encodeURI('/api/object/get'), {\n      method: 'POST',\n      headers: {\n        Authorization: 'Bearer ' + accessToken\n      },\n      body: JSON.stringify({ uoi: uoi })\n    })\n    const response: IObjectType = await result.json() as IObjectType\n    this.$store.state.object = response\n\n    this.show = true\n    // force update the map\n    this.rerenderKey += 1\n  }\n\n  async getResources (uoi: string) {\n    const accessToken = await this.$auth.getTokenSilently({})\n    const result = await fetch(encodeURI('/api/resource/list'), {\n      method: 'POST',\n      headers: {\n        Authorization: 'Bearer ' + accessToken\n      },\n      body: JSON.stringify({ uoi: uoi })\n    })\n    // const response: MyResourceType[] = await result.json() as MyResourceType[]\n    const response: IResourceType[] = await result.json() as IResourceType[]\n\n    this.$store.state.resources = response\n  }\n\n  openModal () {\n    this.$buefy.modal.open({\n      parent: this,\n      component: AddObjectModalForm,\n      hasModalCard: true,\n      customClass: 'custom-class custom-class-2',\n      trapFocus: true\n    })\n  }\n}\n"],"sourceRoot":""}]}