{"remainingRequest":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js??ref--13-2!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/AppHeader.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/AppHeader.vue","mtime":1604414671680},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZXJmYWxrL3dzX2ZpbGVkZ3IvZmlsZWRnci1zdHJlYW1zLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2VyZmFsay93c19maWxlZGdyL2ZpbGVkZ3Itc3RyZWFtcy1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IGRhdGVGb3JtYXQgZnJvbSAnZGF0ZWZvcm1hdCc7Cgp2YXIgQXBwSGVhZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEFwcEhlYWRlciwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQXBwSGVhZGVyKTsKCiAgZnVuY3Rpb24gQXBwSGVhZGVyKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBIZWFkZXIpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vIE1ha2luZyB0aGUgcHJvcGVydHkgcmVhY3RpdmUgdG8gZ2V0IHJpZCBvZiB0aGUgd2FybmluZwoKICAgIF90aGlzLm5hdmlnYXRpb24gPSB7fTsKICAgIF90aGlzLmlzUHVibGljID0gdHJ1ZTsKICAgIF90aGlzLmxvZ28gPSByZXF1aXJlKCdAL2Fzc2V0cy9maWxlZGdyLWxvZ28ucG5nJyk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXBwSGVhZGVyLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdGhpcy5nZXRVc2VyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NhbWVsY2FzZQogICAgICB0aGlzLiRhdXRoLmxvZ2luV2l0aFJlZGlyZWN0KHsKICAgICAgICBhcHBTdGF0ZTogewogICAgICAgICAgdGFyZ2V0VXJsOiAnL2Rhc2hib2FyZCcKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLiRhdXRoLmxvZ291dCh7CiAgICAgICAgcmV0dXJuVG86IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VXNlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGFjY2Vzc1Rva2VuLCByZXN1bHQsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kYXV0aC5nZXRUb2tlblNpbGVudGx5KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKGVuY29kZVVSSSgnL2FwaS91c2VyL2dldCcpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgYWNjZXNzVG9rZW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmZuYW1lID0gZGF0YS5maXJzdG5hbWU7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sbmFtZSA9IGRhdGEubGFzdG5hbWU7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lbWFpbCA9IGRhdGEuZW1haWw7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5iZGF5ID0gZGF0ZUZvcm1hdChuZXcgRGF0ZShkYXRhLmJpcnRoZGF0ZSAqIDEwMDApLCAneXl5eS1tbS1kZCcpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc3RyZWV0ID0gZGF0YS5zdHJlZXROYW1lOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc251bWJlciA9IGRhdGEuc3RyZWV0TnVtYmVyOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucG9zdGFsX2NvZGUgPSBkYXRhLnppcGNvZGU7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jaXR5ID0gZGF0YS5jaXR5OwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY291bnRyeSA9IGRhdGEuY291bnRyeTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRVc2VyKCkgewogICAgICAgIHJldHVybiBfZ2V0VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0VXNlcjsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIEFwcEhlYWRlcjsKfShWdWUpOwoKQXBwSGVhZGVyID0gX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgQXBwSGVhZGVyKTsKZXhwb3J0IGRlZmF1bHQgQXBwSGVhZGVyOw=="},{"version":3,"sources":["/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/AppHeader.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;AA+CA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,OAAO,UAAP,MAAuB,YAAvB;;AAGA,IAAqB,SAArB;AAAA;;AAAA;;AAAA,uBAAA;AAAA;;AAAA;;0CAAA,CACE;;AACQ,UAAA,UAAA,GAAkB,EAAlB;AAEA,UAAA,QAAA,GAAW,IAAX;AACR,UAAA,IAAA,GAAO,OAAO,CAAC,2BAAD,CAAd;AALF;AAyCC;;AAzCD;AAAA;AAAA,8BAOiB;AACb,WAAK,OAAL;AACD;AATH;AAAA;AAAA,4BAWO;AACH;AACA,WAAK,KAAL,CAAW,iBAAX,CAA6B;AAAE,QAAA,QAAQ,EAAE;AAAE,UAAA,SAAS,EAAE;AAAb;AAAZ,OAA7B;AACD;AAdH;AAAA;AAAA,6BAgBQ;AACJ,WAAK,KAAL,CAAW,MAAX,CAAkB;AAChB,QAAA,QAAQ,EAAE,MAAM,CAAC,QAAP,CAAgB;AADV,OAAlB;AAGD;AApBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAuB8B,KAAK,KAAL,CAAW,gBAAX,EAvB9B;;AAAA;AAuBU,gBAAA,WAvBV;AAAA;AAAA,uBAwByB,KAAK,CAAC,SAAS,CAAC,eAAD,CAAV,EAA6B;AACrD,kBAAA,MAAM,EAAE,MAD6C;AAErD,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,EAAE,YAAY;AADpB;AAF4C,iBAA7B,CAxB9B;;AAAA;AAwBU,gBAAA,MAxBV;AAAA;AAAA,uBA8BuB,MAAM,CAAC,IAAP,EA9BvB;;AAAA;AA8BU,gBAAA,IA9BV;AA+BI,qBAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,IAAI,CAAC,SAA/B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,IAAI,CAAC,QAA/B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,IAAI,CAAC,KAA/B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,GAAyB,UAAU,CAAC,IAAI,IAAJ,CAAS,IAAI,CAAC,SAAL,GAAe,IAAxB,CAAD,EAA+B,YAA/B,CAAnC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,MAAlB,GAA2B,IAAI,CAAC,UAAhC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,GAA4B,IAAI,CAAC,YAAjC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,GAAgC,IAAI,CAAC,OAArC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,GAAyB,IAAI,CAAC,IAA9B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,GAA4B,IAAI,CAAC,OAAjC;;AAvCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAuC,GAAvC,CAAA;;AAAqB,SAAS,GAAA,UAAA,CAAA,CAD7B,SAC6B,CAAA,EAAT,SAAS,CAAT;eAAA,S","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport dateFormat from 'dateformat'\r\n\r\n@Component\r\nexport default class AppHeader extends Vue {\r\n  // Making the property reactive to get rid of the warning\r\n  private navigation: Any = {}\r\n\r\n  private isPublic = true\r\n  logo = require('@/assets/filedgr-logo.png')\r\n\r\n  private mounted () {\r\n    this.getUser()\r\n  }\r\n\r\n  login () {\r\n    // eslint-disable-next-line @typescript-eslint/camelcase\r\n    this.$auth.loginWithRedirect({ appState: { targetUrl: '/dashboard' } })\r\n  }\r\n\r\n  logout () {\r\n    this.$auth.logout({\r\n      returnTo: window.location.origin\r\n    })\r\n  }\r\n\r\n  async getUser () {\r\n    const accessToken = await this.$auth.getTokenSilently()\r\n    const result = await fetch(encodeURI('/api/user/get'), {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: 'Bearer ' + accessToken\r\n      }\r\n    })\r\n    const data = await result.json()\r\n    this.$store.state.fname = data.firstname\r\n    this.$store.state.lname = data.lastname\r\n    this.$store.state.email = data.email\r\n    this.$store.state.bday = dateFormat(new Date(data.birthdate*1000),'yyyy-mm-dd')\r\n    this.$store.state.street = data.streetName\r\n    this.$store.state.snumber = data.streetNumber\r\n    this.$store.state.postal_code = data.zipcode\r\n    this.$store.state.city = data.city\r\n    this.$store.state.country = data.country\r\n  }\r\n}\r\n"],"sourceRoot":""}]}