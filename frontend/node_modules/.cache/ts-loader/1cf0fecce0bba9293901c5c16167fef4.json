{"remainingRequest":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js??ref--13-2!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/AppHeader.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/AppHeader.vue","mtime":1604677050556},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZXJmYWxrL3dzX2ZpbGVkZ3IvZmlsZWRnci1zdHJlYW1zLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2VyZmFsay93c19maWxlZGdyL2ZpbGVkZ3Itc3RyZWFtcy1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IGRhdGVGb3JtYXQgZnJvbSAnZGF0ZWZvcm1hdCc7Cgp2YXIgQXBwSGVhZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEFwcEhlYWRlciwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQXBwSGVhZGVyKTsKCiAgZnVuY3Rpb24gQXBwSGVhZGVyKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBIZWFkZXIpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vIE1ha2luZyB0aGUgcHJvcGVydHkgcmVhY3RpdmUgdG8gZ2V0IHJpZCBvZiB0aGUgd2FybmluZwoKICAgIF90aGlzLm5hdmlnYXRpb24gPSB7fTsKICAgIF90aGlzLmlzUHVibGljID0gdHJ1ZTsKICAgIF90aGlzLmxvZ28gPSByZXF1aXJlKCdAL2Fzc2V0cy9maWxlZGdyLWxvZ28ucG5nJyk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXBwSGVhZGVyLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdGhpcy5nZXRVc2VyKCk7CiAgICAgIHRoaXMubGlzdE9iamVjdHMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY2FtZWxjYXNlCiAgICAgIHRoaXMuJGF1dGgubG9naW5XaXRoUmVkaXJlY3QoewogICAgICAgIGFwcFN0YXRlOiB7CiAgICAgICAgICB0YXJnZXRVcmw6ICcvZGFzaGJvYXJkJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHRoaXMuJGF1dGgubG9nb3V0KHsKICAgICAgICByZXR1cm5Ubzogd2luZG93LmxvY2F0aW9uLm9yaWdpbgogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0VXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYWNjZXNzVG9rZW4sIHJlc3VsdCwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZW5jb2RlVVJJKCcvYXBpL3VzZXIvZ2V0JyksIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyBhY2Nlc3NUb2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZm5hbWUgPSBkYXRhLmZpcnN0bmFtZTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxuYW1lID0gZGF0YS5sYXN0bmFtZTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVtYWlsID0gZGF0YS5lbWFpbDsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmJkYXkgPSBkYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGEuYmlydGhkYXRlICogMTAwMCksICd5eXl5LW1tLWRkJyk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zdHJlZXQgPSBkYXRhLnN0cmVldE5hbWU7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zbnVtYmVyID0gZGF0YS5zdHJlZXROdW1iZXI7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5wb3N0YWxfY29kZSA9IGRhdGEuemlwY29kZTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNpdHkgPSBkYXRhLmNpdHk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb3VudHJ5ID0gZGF0YS5jb3VudHJ5OwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFVzZXIoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRVc2VyOwogICAgfSgpCiAgfSwgewogICAga2V5OiAibGlzdE9iamVjdHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9saXN0T2JqZWN0cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGFjY2Vzc1Rva2VuLCByZXN1bHQsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjY2Vzc1Rva2VuKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChlbmNvZGVVUkkoJy9hcGkvb2JqZWN0L2xpc3QnKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5vYmplY3RzID0gZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxpc3RPYmplY3RzKCkgewogICAgICAgIHJldHVybiBfbGlzdE9iamVjdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxpc3RPYmplY3RzOwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gQXBwSGVhZGVyOwp9KFZ1ZSk7CgpBcHBIZWFkZXIgPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBBcHBIZWFkZXIpOwpleHBvcnQgZGVmYXVsdCBBcHBIZWFkZXI7"},{"version":3,"sources":["/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/AppHeader.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;AA+CA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,OAAO,UAAP,MAAuB,YAAvB;;AAGA,IAAqB,SAArB;AAAA;;AAAA;;AAAA,uBAAA;AAAA;;AAAA;;0CAAA,CACE;;AACQ,UAAA,UAAA,GAAkB,EAAlB;AAEA,UAAA,QAAA,GAAW,IAAX;AACR,UAAA,IAAA,GAAO,OAAO,CAAC,2BAAD,CAAd;AALF;AAyDC;;AAzDD;AAAA;AAAA,8BAOiB;AACb,WAAK,OAAL;AACA,WAAK,WAAL;AACD;AAVH;AAAA;AAAA,4BAYO;AACH;AACA,WAAK,KAAL,CAAW,iBAAX,CAA6B;AAAE,QAAA,QAAQ,EAAE;AAAE,UAAA,SAAS,EAAE;AAAb;AAAZ,OAA7B;AACD;AAfH;AAAA;AAAA,6BAiBQ;AACJ,WAAK,KAAL,CAAW,MAAX,CAAkB;AAChB,QAAA,QAAQ,EAAE,MAAM,CAAC,QAAP,CAAgB;AADV,OAAlB;AAGD;AArBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAwB8B,KAAK,KAAL,CAAW,gBAAX,EAxB9B;;AAAA;AAwBU,gBAAA,WAxBV;AAAA;AAAA,uBAyByB,KAAK,CAAC,SAAS,CAAC,eAAD,CAAV,EAA6B;AACrD,kBAAA,MAAM,EAAE,MAD6C;AAErD,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,EAAE,YAAY;AADpB;AAF4C,iBAA7B,CAzB9B;;AAAA;AAyBU,gBAAA,MAzBV;AAAA;AAAA,uBA+BuB,MAAM,CAAC,IAAP,EA/BvB;;AAAA;AA+BU,gBAAA,IA/BV;AAgCI,qBAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,IAAI,CAAC,SAA/B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,IAAI,CAAC,QAA/B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,IAAI,CAAC,KAA/B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,GAAyB,UAAU,CAAC,IAAI,IAAJ,CAAS,IAAI,CAAC,SAAL,GAAe,IAAxB,CAAD,EAA+B,YAA/B,CAAnC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,MAAlB,GAA2B,IAAI,CAAC,UAAhC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,GAA4B,IAAI,CAAC,YAAjC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,GAAgC,IAAI,CAAC,OAArC;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,GAAyB,IAAI,CAAC,IAA9B;AACA,qBAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,GAA4B,IAAI,CAAC,OAAjC;;AAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA4C8B,KAAK,KAAL,CAAW,gBAAX,EA5C9B;;AAAA;AA4CU,gBAAA,WA5CV;AA6CI,gBAAA,OAAO,CAAC,GAAR,CAAY,WAAZ;AA7CJ;AAAA,uBA+CyB,KAAK,CAAC,SAAS,CAAC,kBAAD,CAAV,EAAgC;AACxD,kBAAA,MAAM,EAAE,MADgD;AAExD,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,EAAE,YAAY;AADpB;AAF+C,iBAAhC,CA/C9B;;AAAA;AA+CU,gBAAA,MA/CV;AAAA;AAAA,uBAqDuB,MAAM,CAAC,IAAP,EArDvB;;AAAA;AAqDU,gBAAA,IArDV;AAsDI,qBAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,GAA4B,IAA5B;;AAtDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAuC,GAAvC,CAAA;;AAAqB,SAAS,GAAA,UAAA,CAAA,CAD7B,SAC6B,CAAA,EAAT,SAAS,CAAT;eAAA,S","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport dateFormat from 'dateformat'\r\n\r\n@Component\r\nexport default class AppHeader extends Vue {\r\n  // Making the property reactive to get rid of the warning\r\n  private navigation: Any = {}\r\n\r\n  private isPublic = true\r\n  logo = require('@/assets/filedgr-logo.png')\r\n\r\n  private mounted () {\r\n    this.getUser()\r\n    this.listObjects()\r\n  }\r\n\r\n  login () {\r\n    // eslint-disable-next-line @typescript-eslint/camelcase\r\n    this.$auth.loginWithRedirect({ appState: { targetUrl: '/dashboard' } })\r\n  }\r\n\r\n  logout () {\r\n    this.$auth.logout({\r\n      returnTo: window.location.origin\r\n    })\r\n  }\r\n\r\n  async getUser () {\r\n    const accessToken = await this.$auth.getTokenSilently()\r\n    const result = await fetch(encodeURI('/api/user/get'), {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: 'Bearer ' + accessToken\r\n      }\r\n    })\r\n    const data = await result.json()\r\n    this.$store.state.fname = data.firstname\r\n    this.$store.state.lname = data.lastname\r\n    this.$store.state.email = data.email\r\n    this.$store.state.bday = dateFormat(new Date(data.birthdate*1000),'yyyy-mm-dd')\r\n    this.$store.state.street = data.streetName\r\n    this.$store.state.snumber = data.streetNumber\r\n    this.$store.state.postal_code = data.zipcode\r\n    this.$store.state.city = data.city\r\n    this.$store.state.country = data.country\r\n  }\r\n\r\n    async listObjects () {\r\n    const accessToken = await this.$auth.getTokenSilently()\r\n    console.log(accessToken);\r\n\r\n    const result = await fetch(encodeURI('/api/object/list'), {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: 'Bearer ' + accessToken\r\n      }\r\n    })\r\n    const data = await result.json()\r\n    this.$store.state.objects = data\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}]}