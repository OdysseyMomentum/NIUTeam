{"remainingRequest":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js??ref--13-2!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/views/Objects.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/src/views/Objects.vue","mtime":1605286524553},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZXJmYWxrL3dzX2ZpbGVkZ3IvZmlsZWRnci1zdHJlYW1zLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2VyZmFsay93c19maWxlZGdyL2ZpbGVkZ3Itc3RyZWFtcy1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9lcmZhbGsvd3NfZmlsZWRnci9maWxlZGdyLXN0cmVhbXMtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnOwppbXBvcnQgRGV0YWlscyBmcm9tICdAL2NvbXBvbmVudHMvRGV0YWlscy52dWUnOwppbXBvcnQgTW9kYWxGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9Nb2RhbEZvcm0udnVlJzsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKCnZhciBUaGluZ3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoVGhpbmdzLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUaGluZ3MpOwoKICBmdW5jdGlvbiBUaGluZ3MoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRoaW5ncyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnJlcmVuZGVyS2V5ID0gMDsKICAgIF90aGlzLnNob3cgPSBmYWxzZTsKICAgIF90aGlzLmlzTW9kYWxBY3RpdmUgPSBmYWxzZTsKICAgIF90aGlzLnVvaSA9IG51bGw7CiAgICBfdGhpcy5kaXNwbGF5TmFtZSA9ICcnOwogICAgX3RoaXMuZGVzY3JpcHRpb24gPSAnJzsKICAgIF90aGlzLmdlb0Nvb3JkaW5hdGVzID0gewogICAgICBsYXRpdHVkZTogbnVsbCwKICAgICAgbG9uZ2l0dWRlOiBudWxsCiAgICB9OwogICAgX3RoaXMuc3RyZWV0TmFtZSA9ICcnOwogICAgX3RoaXMuc3RyZWV0TnVtYmVyID0gJyc7CiAgICBfdGhpcy56aXBjb2RlID0gbnVsbDsKICAgIF90aGlzLmNpdHkgPSAnJzsKICAgIF90aGlzLmNvdW50cnkgPSAnJzsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUaGluZ3MsIFt7CiAgICBrZXk6ICJnZXRPYmplY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRPYmplY3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodW9pKSB7CiAgICAgICAgdmFyIGFjY2Vzc1Rva2VuLCByZXN1bHQsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dGguZ2V0VG9rZW5TaWxlbnRseSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChlbmNvZGVVUkkoJy9hcGkvb2JqZWN0L2dldCcpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgYWNjZXNzVG9rZW4KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIHVvaTogdW9pCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLm9iamVjdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsgLy8gZm9yY2UgdXBkYXRlIHRoZSBtYXAKCiAgICAgICAgICAgICAgICB0aGlzLnJlcmVuZGVyS2V5ICs9IDE7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0T2JqZWN0KF94KSB7CiAgICAgICAgcmV0dXJuIF9nZXRPYmplY3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldE9iamVjdDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFJlc291cmNlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFJlc291cmNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodW9pKSB7CiAgICAgICAgdmFyIGFjY2Vzc1Rva2VuLCByZXN1bHQsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kYXV0aC5nZXRUb2tlblNpbGVudGx5KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZW5jb2RlVVJJKCcvYXBpL3Jlc291cmNlL2xpc3QnKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICB1b2k6IHVvaQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yZXNvdXJjZXMgPSByZXNwb25zZTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFJlc291cmNlcyhfeDIpIHsKICAgICAgICByZXR1cm4gX2dldFJlc291cmNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0UmVzb3VyY2VzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAib3Blbk1vZGFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuTW9kYWwoKSB7CiAgICAgIHRoaXMuJGJ1ZWZ5Lm1vZGFsLm9wZW4oewogICAgICAgIHBhcmVudDogdGhpcywKICAgICAgICBjb21wb25lbnQ6IE1vZGFsRm9ybSwKICAgICAgICBoYXNNb2RhbENhcmQ6IHRydWUsCiAgICAgICAgY3VzdG9tQ2xhc3M6ICdjdXN0b20tY2xhc3MgY3VzdG9tLWNsYXNzLTInLAogICAgICAgIHRyYXBGb2N1czogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBUaGluZ3M7Cn0oVnVlKTsKClRoaW5ncyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgRGV0YWlsczogRGV0YWlscwogIH0KfSldLCBUaGluZ3MpOwpleHBvcnQgZGVmYXVsdCBUaGluZ3M7"},{"version":3,"sources":["/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/views/Objects.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'leaflet/dist/leaflet.css'\nimport Details from '@/components/Details.vue'\nimport ModalForm from '@/components/ModalForm.vue'\nimport { Component, Vue } from 'vue-property-decorator'\nimport { IResourceType } from '@/types/ResourceType'\nimport { IObjectType } from '@/types/ObjectType'\n\n@Component({\n  components: {\n    Details\n  }\n})\nexport default class Things extends Vue {\n  public rerenderKey = 0\n  public show = false\n  public isModalActive = false\n  public uoi = null\n  public displayName = ''\n  public description = ''\n  public geoCoordinates = {\n    latitude: null,\n    longitude: null\n  }\n\n  public streetName = ''\n  public streetNumber = ''\n  public zipcode = null\n  public city = ''\n  public country = ''\n\n  private resource: IResourceType\n\n  async getObject (uoi: number) {\n    const accessToken = await this.$auth.getTokenSilently()\n    const result = await fetch(encodeURI('/api/object/get'), {\n      method: 'POST',\n      headers: {\n        Authorization: 'Bearer ' + accessToken\n      },\n      body: JSON.stringify({ uoi: uoi })\n    })\n    const response: IObjectType = await result.json() as IObjectType\n    this.$store.state.object = response\n\n    this.show = true\n    // force update the map\n    this.rerenderKey += 1\n  }\n\n  async getResources (uoi: number) {\n    const accessToken = await this.$auth.getTokenSilently()\n    const result = await fetch(encodeURI('/api/resource/list'), {\n      method: 'POST',\n      headers: {\n        Authorization: 'Bearer ' + accessToken\n      },\n      body: JSON.stringify({ uoi: uoi })\n    })\n    // const response: MyResourceType[] = await result.json() as MyResourceType[]\n    const response: IResourceType[] = await result.json() as IResourceType[]\n\n    this.$store.state.resources = response\n\n  }\n\n  openModal () {\n    this.$buefy.modal.open({\n      parent: this,\n      component: ModalForm,\n      hasModalCard: true,\n      customClass: 'custom-class custom-class-2',\n      trapFocus: true\n    })\n  }\n}\n"],"sourceRoot":""}]}