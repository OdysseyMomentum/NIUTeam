{"remainingRequest":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/plots/LineChart.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/src/components/plots/LineChart.vue","mtime":1604312863669},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/erfalk/ws_filedgr/filedgr-streams-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnCgpAQ29tcG9uZW50KHt9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lQ2hhcnQgZXh0ZW5kcyBWdWUgewogIHByaXZhdGUgZGF0YSA9IFsKICAgIHsgcHJpY2U6IDQwMTI5LCB5ZWFyOiAyMDA5IH0sCiAgICB7IHByaWNlOiAxNjY0NDMsIHllYXI6IDIwMTAgfSwKICAgIHsgcHJpY2U6IDE1MDc5MywgeWVhcjogMjAxMiB9LAogICAgeyBwcmljZTogNjIzNDIsIHllYXI6IDIwMTQgfSwKICAgIHsgcHJpY2U6IDI3NjQ3LCB5ZWFyOiAyMDE2IH0sCiAgICB7IHByaWNlOiAzMDAwMCwgeWVhcjogMjAxNyB9CiAgXTsKCiAgcHJpdmF0ZSBzdmc6IGFueTsKICBwcml2YXRlIGQ/OiBudW1iZXI7CiAgcHJpdmF0ZSBtYXJnaW4gPSA1MDsKICBwcml2YXRlIHdpZHRoID0gNzUwIC0gKHRoaXMubWFyZ2luICogMik7CiAgcHJpdmF0ZSBoZWlnaHQgPSA0MDAgLSAodGhpcy5tYXJnaW4gKiAyKTsKCiAgcHJpdmF0ZSBjcmVhdGVTdmcgKCk6IHZvaWQgewogICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoJyNsaW5lQ2hhcnQnKQogICAgICAuYXBwZW5kKCdzdmcnKQogICAgICAuYXR0cignd2lkdGgnLCB0aGlzLndpZHRoICsgKHRoaXMubWFyZ2luICogMikpCiAgICAgIC5hdHRyKCdoZWlnaHQnLCB0aGlzLmhlaWdodCArICh0aGlzLm1hcmdpbiAqIDIpKQogICAgICAuYXBwZW5kKCdnJykKICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHRoaXMubWFyZ2luICsgJywnICsgdGhpcy5tYXJnaW4gKyAnKScpCiAgfQoKICBwcml2YXRlIGRyYXdQbG90IChpbnB1dERhdGE6IGFueVtdKTogdm9pZCB7CiAgICBjb25zdCBwcmljZSA9IGlucHV0RGF0YS5tYXAoaXRlbSA9PiBwYXJzZUludChpdGVtLnByaWNlKSkKICAgIGNvbnN0IHllYXIgPSBpbnB1dERhdGEubWFwKGl0ZW0gPT4gaXRlbS55ZWFyKQogICAgY29uc3QgcHJpY2VNaW4gPSBNYXRoLm1pbiguLi5wcmljZSkKICAgIGNvbnN0IHByaWNlTWF4ID0gTWF0aC5tYXgoLi4ucHJpY2UpCgogICAgLy8gQWRkIFggYXhpcwogICAgY29uc3QgeCA9IGQzLnNjYWxlTGluZWFyKCkKICAgICAgLmRvbWFpbihbMjAwOSwgMjAxN10pCiAgICAgIC5yYW5nZShbMCwgdGhpcy53aWR0aF0pCiAgICB0aGlzLnN2Zy5hcHBlbmQoJ2cnKQogICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcgKyB0aGlzLmhlaWdodCArICcpJykKICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KS50aWNrRm9ybWF0KGQzLmZvcm1hdCgnZCcpKSkKCiAgICAvLyBBZGQgWSBheGlzCiAgICBjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAuZG9tYWluKFswLCBwcmljZU1heF0pCiAgICAgIC5yYW5nZShbdGhpcy5oZWlnaHQsIDBdKQogICAgdGhpcy5zdmcuYXBwZW5kKCdnJykKICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpCgogICAgLy8gQWRkIGxpbmUKICAgIHRoaXMuc3ZnLmFwcGVuZCgncGF0aCcpCiAgICAgIC5kYXR1bShpbnB1dERhdGEpCiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKQogICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJykKICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIpCiAgICAgIC5hdHRyKCdkJywgZDMubGluZSgpCiAgICAgICAgLy8gLmN1cnZlKGQzLmN1cnZlTmF0dXJhbCkKICAgICAgICAueChmdW5jdGlvbiAoZDogYW55KSB7IHJldHVybiB4KGQueWVhcikgfSkKICAgICAgICAueShmdW5jdGlvbiAoZDogYW55KSB7IHJldHVybiB5KGQucHJpY2UpIH0pCiAgICAgICkKCiAgICAvLyBBZGQgZG90cwogICAgY29uc3QgZG90cyA9IHRoaXMuc3ZnLmFwcGVuZCgnZycpCiAgICBkb3RzLnNlbGVjdEFsbCgnZG90JykKICAgICAgLmRhdGEoaW5wdXREYXRhKQogICAgICAuZW50ZXIoKQogICAgICAuYXBwZW5kKCdjaXJjbGUnKQogICAgICAuYXR0cignY3gnLCAoZDogeyB5ZWFyOiBhbnl9KSA9PiB4KGQueWVhcikpCiAgICAgIC5hdHRyKCdjeScsIChkOiB7IHByaWNlOiBhbnl9KSA9PiB5KGQucHJpY2UpKQogICAgICAuYXR0cigncicsIDMpCiAgICAgIC8vIC5zdHlsZSgnb3BhY2l0eScsIDAuNSkKCiAgICB0aGlzLnN2Zy5hcHBlbmQoJ3RleHQnKQogICAgICAuYXR0cigneCcsICh0aGlzLndpZHRoIC8gMikpCiAgICAgIC5hdHRyKCd5JywgMCAtICh0aGlzLm1hcmdpbiAvIDIpKQogICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJykKICAgICAgLnRleHQoJ1ByaWNlJykKICB9CgogIHByaXZhdGUgY2xlYXJQbG90ICgpIHsKICAgIGQzLnNlbGVjdCgnc3ZnJykucmVtb3ZlKCkKICB9CgogIHByaXZhdGUgcmVEcmF3ICgpOiB2b2lkIHsKICAgIHRoaXMuY2xlYXJQbG90KCkKICAgIHRoaXMuY3JlYXRlU3ZnKCkKICAgIHRoaXMuZHJhd1Bsb3QoCiAgICAgIFsKICAgICAgICB7IHByaWNlOiA0MDAwMCAqIE1hdGgucmFuZG9tKCksIHllYXI6IDIwMDkgfSwKICAgICAgICB7IHByaWNlOiA0MDAwMCAqIE1hdGgucmFuZG9tKCksIHllYXI6IDIwMTAgfSwKICAgICAgICB7IHByaWNlOiA0MDAwMCAqIE1hdGgucmFuZG9tKCksIHllYXI6IDIwMTIgfSwKICAgICAgICB7IHByaWNlOiA0MDAwMCAqIE1hdGgucmFuZG9tKCksIHllYXI6IDIwMTQgfSwKICAgICAgICB7IHByaWNlOiA0MDAwMCAqIE1hdGgucmFuZG9tKCksIHllYXI6IDIwMTYgfSwKICAgICAgICB7IHByaWNlOiA0MDAwMCAqIE1hdGgucmFuZG9tKCksIHllYXI6IDIwMTcgfQogICAgICBdCiAgICApCiAgfQoKICBtb3VudGVkICgpIHsKICAgIHRoaXMuY3JlYXRlU3ZnKCkKICAgIHRoaXMuZHJhd1Bsb3QodGhpcy5kYXRhKQogIH0KfQo="},{"version":3,"sources":["LineChart.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"LineChart.vue","sourceRoot":"src/components/plots","sourcesContent":["<template>\n<div class=\"chart\">\n  <figure id=\"lineChart\"></figure>\n  <button @click=\"reDraw\">Click me!</button>\n</div>\n</template>\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport * as d3 from 'd3'\n\n@Component({})\nexport default class LineChart extends Vue {\n  private data = [\n    { price: 40129, year: 2009 },\n    { price: 166443, year: 2010 },\n    { price: 150793, year: 2012 },\n    { price: 62342, year: 2014 },\n    { price: 27647, year: 2016 },\n    { price: 30000, year: 2017 }\n  ];\n\n  private svg: any;\n  private d?: number;\n  private margin = 50;\n  private width = 750 - (this.margin * 2);\n  private height = 400 - (this.margin * 2);\n\n  private createSvg (): void {\n    this.svg = d3.select('#lineChart')\n      .append('svg')\n      .attr('width', this.width + (this.margin * 2))\n      .attr('height', this.height + (this.margin * 2))\n      .append('g')\n      .attr('transform', 'translate(' + this.margin + ',' + this.margin + ')')\n  }\n\n  private drawPlot (inputData: any[]): void {\n    const price = inputData.map(item => parseInt(item.price))\n    const year = inputData.map(item => item.year)\n    const priceMin = Math.min(...price)\n    const priceMax = Math.max(...price)\n\n    // Add X axis\n    const x = d3.scaleLinear()\n      .domain([2009, 2017])\n      .range([0, this.width])\n    this.svg.append('g')\n      .attr('transform', 'translate(0,' + this.height + ')')\n      .call(d3.axisBottom(x).tickFormat(d3.format('d')))\n\n    // Add Y axis\n    const y = d3.scaleLinear()\n      .domain([0, priceMax])\n      .range([this.height, 0])\n    this.svg.append('g')\n      .call(d3.axisLeft(y))\n\n    // Add line\n    this.svg.append('path')\n      .datum(inputData)\n      .attr('fill', 'none')\n      .attr('stroke', 'black')\n      .attr('stroke-width', 2)\n      .attr('d', d3.line()\n        // .curve(d3.curveNatural)\n        .x(function (d: any) { return x(d.year) })\n        .y(function (d: any) { return y(d.price) })\n      )\n\n    // Add dots\n    const dots = this.svg.append('g')\n    dots.selectAll('dot')\n      .data(inputData)\n      .enter()\n      .append('circle')\n      .attr('cx', (d: { year: any}) => x(d.year))\n      .attr('cy', (d: { price: any}) => y(d.price))\n      .attr('r', 3)\n      // .style('opacity', 0.5)\n\n    this.svg.append('text')\n      .attr('x', (this.width / 2))\n      .attr('y', 0 - (this.margin / 2))\n      .attr('text-anchor', 'middle')\n      .text('Price')\n  }\n\n  private clearPlot () {\n    d3.select('svg').remove()\n  }\n\n  private reDraw (): void {\n    this.clearPlot()\n    this.createSvg()\n    this.drawPlot(\n      [\n        { price: 40000 * Math.random(), year: 2009 },\n        { price: 40000 * Math.random(), year: 2010 },\n        { price: 40000 * Math.random(), year: 2012 },\n        { price: 40000 * Math.random(), year: 2014 },\n        { price: 40000 * Math.random(), year: 2016 },\n        { price: 40000 * Math.random(), year: 2017 }\n      ]\n    )\n  }\n\n  mounted () {\n    this.createSvg()\n    this.drawPlot(this.data)\n  }\n}\n</script>\n\n<style>\n.chart {\n  padding: 1em;\n  float: left;\n  margin: 1em;\n  background-color: #f8f8f8;\n}\n\n.p {\n  text-align: center;\n}\n</style>\n"]}]}